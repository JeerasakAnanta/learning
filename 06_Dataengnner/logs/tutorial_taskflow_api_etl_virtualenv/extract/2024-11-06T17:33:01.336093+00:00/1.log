[2024-11-06 17:33:01,917] {taskinstance.py:903} INFO - Dependencies all met for <TaskInstance: tutorial_taskflow_api_etl_virtualenv.extract 2024-11-06T17:33:01.336093+00:00 [queued]>
[2024-11-06 17:33:01,941] {taskinstance.py:903} INFO - Dependencies all met for <TaskInstance: tutorial_taskflow_api_etl_virtualenv.extract 2024-11-06T17:33:01.336093+00:00 [queued]>
[2024-11-06 17:33:01,941] {taskinstance.py:1095} INFO - 
--------------------------------------------------------------------------------
[2024-11-06 17:33:01,941] {taskinstance.py:1096} INFO - Starting attempt 1 of 1
[2024-11-06 17:33:01,941] {taskinstance.py:1097} INFO - 
--------------------------------------------------------------------------------
[2024-11-06 17:33:01,954] {taskinstance.py:1115} INFO - Executing <Task(_PythonVirtualenvDecoratedOperator): extract> on 2024-11-06T17:33:01.336093+00:00
[2024-11-06 17:33:01,964] {standard_task_runner.py:52} INFO - Started process 3521 to run task
[2024-11-06 17:33:01,972] {standard_task_runner.py:76} INFO - Running: ['***', 'tasks', 'run', 'tutorial_taskflow_api_etl_virtualenv', 'extract', '2024-11-06T17:33:01.336093+00:00', '--job-id', '11', '--pool', 'default_pool', '--raw', '--subdir', '/home/***/.local/lib/python3.6/site-packages/***/example_dags/tutorial_taskflow_api_etl_virtualenv.py', '--cfg-path', '/tmp/tmp1wgtcyae', '--error-file', '/tmp/tmpiti_m3ju']
[2024-11-06 17:33:01,972] {standard_task_runner.py:77} INFO - Job 11: Subtask extract
[2024-11-06 17:33:02,031] {logging_mixin.py:109} INFO - Running <TaskInstance: tutorial_taskflow_api_etl_virtualenv.extract 2024-11-06T17:33:01.336093+00:00 [running]> on host 1d84451931cc
[2024-11-06 17:33:02,098] {taskinstance.py:1254} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_OWNER=***
AIRFLOW_CTX_DAG_ID=tutorial_taskflow_api_etl_virtualenv
AIRFLOW_CTX_TASK_ID=extract
AIRFLOW_CTX_EXECUTION_DATE=2024-11-06T17:33:01.336093+00:00
AIRFLOW_CTX_DAG_RUN_ID=manual__2024-11-06T17:33:01.336093+00:00
[2024-11-06 17:33:02,099] {process_utils.py:135} INFO - Executing cmd: virtualenv /tmp/venvwivd5ctv
[2024-11-06 17:33:02,109] {process_utils.py:139} INFO - Output:
[2024-11-06 17:33:03,296] {process_utils.py:143} INFO - created virtual environment CPython3.6.15.final.0-64 in 516ms
[2024-11-06 17:33:03,296] {process_utils.py:143} INFO -   creator CPython3Posix(dest=/tmp/venvwivd5ctv, clear=False, no_vcs_ignore=False, global=False)
[2024-11-06 17:33:03,296] {process_utils.py:143} INFO -   seeder FromAppData(download=False, pip=bundle, setuptools=bundle, wheel=bundle, via=copy, app_data_dir=/home/***/.local/share/virtualenv)
[2024-11-06 17:33:03,296] {process_utils.py:143} INFO -     added seed packages: pip==21.2.4, setuptools==58.0.4, wheel==0.37.0
[2024-11-06 17:33:03,297] {process_utils.py:143} INFO -   activators BashActivator,CShellActivator,FishActivator,NushellActivator,PowerShellActivator,PythonActivator
[2024-11-06 17:33:03,323] {process_utils.py:135} INFO - Executing cmd: /tmp/venvwivd5ctv/bin/pip install funcsigs dill
[2024-11-06 17:33:03,333] {process_utils.py:139} INFO - Output:
[2024-11-06 17:33:05,221] {process_utils.py:143} INFO - Collecting funcsigs
[2024-11-06 17:33:05,710] {process_utils.py:143} INFO -   Downloading funcsigs-1.0.2-py2.py3-none-any.whl (17 kB)
[2024-11-06 17:33:06,116] {process_utils.py:143} INFO - Collecting dill
[2024-11-06 17:33:06,183] {process_utils.py:143} INFO -   Downloading dill-0.3.4-py2.py3-none-any.whl (86 kB)
[2024-11-06 17:33:06,356] {process_utils.py:143} INFO - Installing collected packages: funcsigs, dill
[2024-11-06 17:33:06,444] {process_utils.py:143} INFO - Successfully installed dill-0.3.4 funcsigs-1.0.2
[2024-11-06 17:33:06,854] {process_utils.py:143} INFO - WARNING: You are using pip version 21.2.4; however, version 21.3.1 is available.
[2024-11-06 17:33:06,854] {process_utils.py:143} INFO - You should consider upgrading via the '/tmp/venvwivd5ctv/bin/python -m pip install --upgrade pip' command.
[2024-11-06 17:33:06,925] {process_utils.py:135} INFO - Executing cmd: /tmp/venvwivd5ctv/bin/python /tmp/venvwivd5ctv/script.py /tmp/venvwivd5ctv/script.in /tmp/venvwivd5ctv/script.out /tmp/venvwivd5ctv/string_args.txt
[2024-11-06 17:33:06,933] {process_utils.py:139} INFO - Output:
[2024-11-06 17:33:07,132] {process_utils.py:143} INFO - Traceback (most recent call last):
[2024-11-06 17:33:07,132] {process_utils.py:143} INFO -   File "/tmp/venvwivd5ctv/script.py", line 40, in <module>
[2024-11-06 17:33:07,132] {process_utils.py:143} INFO -     res = extract(*arg_dict["args"], **arg_dict["kwargs"])
[2024-11-06 17:33:07,132] {process_utils.py:143} INFO -   File "/tmp/venvwivd5ctv/script.py", line 37, in extract
[2024-11-06 17:33:07,133] {process_utils.py:143} INFO -     order_data_dict = json.loads(data_string)
[2024-11-06 17:33:07,133] {process_utils.py:143} INFO - NameError: name 'json' is not defined
[2024-11-06 17:33:07,159] {taskinstance.py:1463} ERROR - Task failed with exception
Traceback (most recent call last):
  File "/home/airflow/.local/lib/python3.6/site-packages/airflow/models/taskinstance.py", line 1165, in _run_raw_task
    self._prepare_and_execute_task_with_callbacks(context, task)
  File "/home/airflow/.local/lib/python3.6/site-packages/airflow/models/taskinstance.py", line 1283, in _prepare_and_execute_task_with_callbacks
    result = self._execute_task(context, task_copy)
  File "/home/airflow/.local/lib/python3.6/site-packages/airflow/models/taskinstance.py", line 1313, in _execute_task
    result = task_copy.execute(context=context)
  File "/home/airflow/.local/lib/python3.6/site-packages/airflow/decorators/base.py", line 134, in execute
    return_value = super().execute(context)
  File "/home/airflow/.local/lib/python3.6/site-packages/airflow/operators/python.py", line 347, in execute
    return super().execute(context=serializable_context)
  File "/home/airflow/.local/lib/python3.6/site-packages/airflow/operators/python.py", line 150, in execute
    return_value = self.execute_callable()
  File "/home/airflow/.local/lib/python3.6/site-packages/airflow/operators/python.py", line 386, in execute_callable
    string_args_filename,
  File "/home/airflow/.local/lib/python3.6/site-packages/airflow/utils/process_utils.py", line 147, in execute_in_subprocess
    raise subprocess.CalledProcessError(exit_code, cmd)
subprocess.CalledProcessError: Command '['/tmp/venvwivd5ctv/bin/python', '/tmp/venvwivd5ctv/script.py', '/tmp/venvwivd5ctv/script.in', '/tmp/venvwivd5ctv/script.out', '/tmp/venvwivd5ctv/string_args.txt']' returned non-zero exit status 1.
[2024-11-06 17:33:07,161] {taskinstance.py:1513} INFO - Marking task as FAILED. dag_id=tutorial_taskflow_api_etl_virtualenv, task_id=extract, execution_date=20241106T173301, start_date=20241106T173301, end_date=20241106T173307
[2024-11-06 17:33:07,199] {local_task_job.py:151} INFO - Task exited with return code 1
[2024-11-06 17:33:07,230] {local_task_job.py:261} INFO - 0 downstream tasks scheduled from follow-on schedule check
